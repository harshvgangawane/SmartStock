<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SmartStock</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: rgb(142, 101, 216);
        }
        .container {
            max-width: 800px;
            margin-top: 40px;
            padding: 30px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 0 15px rgba(105, 17, 199, 0.1);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">SmartStock</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/inventory">Inventory</a>
                    </li>
                    <l1 class="nav-item">
                        <a class="nav-link" href="/Dashboard">Dashboard</a>
                    </l1>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h2 class="text-start mb-4">SmartStock</h2>
        {% if prediction_text %}
            <div class="alert alert-success text-center" role="alert">
                {{ prediction_text }}
            </div>
        {% endif %}

        <form method="POST" action="/predict">
            <div class="mb-3">

                <div class="col mb-2">
                    <label for="date" class="form-label">Date</label>
                    <input type="date" class="form-control" id="date" name="date" required
                           value="{{ input_data['Date'] if input_data else '' }}">
                </div>

                <div class="col mb-2">
                    <label for="Store ID" class="form-label">Store ID</label>
                    <select class="form-select" id="Store ID" name="Store ID" required>
                        <option value="" disabled {% if not input_data %}selected{% endif %}>Select Store ID</option>
                        {% for store in ['S001','S002','S003','S004','S005'] %}
                            <option value="{{ store }}" {% if input_data and input_data['Store ID'] == store %}selected{% endif %}>{{ store }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col mb-2">
                    <label for="Product ID" class="form-label">Product ID</label>
                    <select class="form-select" id="Product ID" name="Product ID" required>
                        <option value="" disabled {% if not input_data %}selected{% endif %}>Select Product ID</option>
                        {% for i in range(1, 21) %}
                            {% set pid = 'P' + '{:04d}'.format(i) %}
                            <option value="{{ pid }}" {% if input_data and input_data['Product ID'] == pid %}selected{% endif %}>{{ pid }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col mb-2">
                    <label for="Category" class="form-label">Category</label>
                    <select class="form-select" id="Category" name="Category" required>
                        <option value="" disabled {% if not input_data %}selected{% endif %}>Select Category</option>
                        {% for cat in ['Groceries', 'Toys', 'Electronics', 'Furniture', 'Clothing'] %}
                            <option value="{{ cat }}" {% if input_data and input_data['Category'] == cat %}selected{% endif %}>{{ cat }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col mb-2">
                    <label for="Region" class="form-label">Region</label>
                    <select class="form-select" id="Region" name="Region" required>
                        <option value="" disabled {% if not input_data %}selected{% endif %}>Select Region</option>
                        {% for reg in ['North', 'South', 'West', 'East'] %}
                            <option value="{{ reg }}" {% if input_data and input_data['Region'] == reg %}selected{% endif %}>{{ reg }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col mb-2">
                    <label for="Inventory Level" class="form-label">Inventory Level</label>
                    <input type="number" class="form-control" id="Inventory Level" name="Inventory Level" required
                           value="{{ input_data['Inventory Level'] if input_data else '' }}">
                </div>

                <div class="col mb-2">
                    <label for="Units Ordered" class="form-label">Units Ordered</label>
                    <input type="number" class="form-control" id="Units Ordered" name="Units Ordered" required
                           value="{{ input_data['Units Ordered'] if input_data else '' }}">
                </div>

                <div class="col mb-2">
                    <label for="Price" class="form-label">Price</label>
                    <input type="number" class="form-control" id="Price" name="Price" step="any" required
                           value="{{ input_data['Price'] if input_data else '' }}">
                </div>

                <div class="col mb-2">
                    <label for="Discount" class="form-label">Discount</label>
                    <input type="number" class="form-control" id="Discount" name="Discount" step="any" required
                           value="{{ input_data['Discount'] if input_data else '' }}">
                </div>

                <div class="col mb-2">
                    <label for="Weather Condition" class="form-label">Weather Condition</label>
                    <select class="form-select" id="Weather Condition" name="Weather Condition" required>
                        <option value="" disabled {% if not input_data %}selected{% endif %}>Select Weather Condition</option>
                        {% for weather in ['Rainy', 'Sunny', 'Cloudy', 'Snowy'] %}
                            <option value="{{ weather }}" {% if input_data and input_data['Weather Condition'] == weather %}selected{% endif %}>{{ weather }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col mb-2">
                    <label for="Holiday" class="form-label">Holiday</label>
                    <select class="form-select" id="Holiday" name="Holiday" required>
                        <option value="" disabled {% if not input_data %}selected{% endif %}>Select Holiday</option>
                        <option value="Yes" {% if input_data and input_data['Holiday'] == 1 %}selected{% endif %}>Yes</option>
                        <option value="No" {% if input_data and input_data['Holiday'] == 0 %}selected{% endif %}>No</option>
                    </select>
                </div>

                <div class="col mb-4">
                    <label for="Seasonality" class="form-label">Seasonality</label>
                    <select class="form-select" id="Seasonality" name="Seasonality" required>
                        <option value="" disabled {% if not input_data %}selected{% endif %}>Select Seasonality</option>
                        {% for season in ['Winter', 'Spring', 'Summer', 'Autumn'] %}
                            <option value="{{ season }}" {% if input_data and input_data['Seasonality'] == season %}selected{% endif %}>{{ season }}</option>
                        {% endfor %}
                    </select>
                </div>

                <button type="submit" class="btn btn-primary w-100">Predict Units Sold</button>

            </div>
        </form>
    </div>
</body>
</html>
